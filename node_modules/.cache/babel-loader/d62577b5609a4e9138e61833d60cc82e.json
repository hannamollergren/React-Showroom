{"ast":null,"code":"var _jsxFileName = \"/Users/hannis/Documents/Frontend/JS/showroom/src/script/components/Favorites.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport '../../style/productList.scss';\nimport '../../style/favorites.scss';\nimport Hero from './Hero.jsx';\nimport axios from 'axios';\nimport { getProducts } from '../actions';\nimport { useDispatch } from 'react-redux';\nimport ProductDisplay from './ProductDisplay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Favorites = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  let productList = useSelector(state => state.productList);\n  const [displayChoosenProduct, setDisplayChoosenProduct] = useState(false);\n  const [choosenProduct, setChoosenProduct] = useState(null);\n  let favoritesList = [];\n  productList.map(product => {\n    if (product.favorite === true) {\n      favoritesList.push(product);\n    }\n  });\n\n  async function handleFavorite(product) {\n    try {\n      await axios.put('/api/editproduct', {\n        id: product._id,\n        favorite: !product.favorite\n      });\n      getAllProducts();\n    } catch (error) {\n      console.log('Something went wrong ', error);\n    }\n  }\n\n  async function getAllProducts() {\n    await axios.get('/api/allproducts').then(res => {\n      dispatch(getProducts(res.data));\n    }).catch(err => {\n      console.log('Something went wrong', err);\n    });\n  }\n\n  const handleChoosenProduct = product => {\n    setChoosenProduct(product);\n    setDisplayChoosenProduct(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !displayChoosenProduct ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Hero, {\n        cssClassHero: \"favorites__hero-block\",\n        cssClassImage: \"favorites__hero-block-image\",\n        cssClassButton: \"\",\n        link: \"\",\n        label: \"\",\n        h1: \"Favorites\",\n        h2: \"Let them be yours\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"row\",\n        children: !favoritesList.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"columns large-12\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"favorites__page-title\",\n            children: \"No favorites yet... \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 69\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 35\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"columns small-12 large-12\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"row favorites__container\",\n            children: favoritesList.map((product, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"product-list__item-container columns small-12 medium-4 large-3\",\n              onClick: () => handleChoosenProduct(product),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-list__image\",\n                style: {\n                  backgroundImage: `url(${product.images[0]})`,\n                  backgroundSize: 'cover',\n                  backgroundRepeat: 'no-repeat',\n                  backgroundPosition: 'center'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"favorites__remove-btn\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleFavorite(product);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: product.brand\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [product.price, \" kr\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 9\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 8\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(ProductDisplay, {\n      choosenProduct: choosenProduct,\n      displayChoosenProduct: displayChoosenProduct,\n      setDisplayChoosenProduct: setDisplayChoosenProduct\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Favorites, \"nTQy9VXVF/arOeyVVo7QEllM6IY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Favorites;\nexport default Favorites;\n\nvar _c;\n\n$RefreshReg$(_c, \"Favorites\");","map":{"version":3,"sources":["/Users/hannis/Documents/Frontend/JS/showroom/src/script/components/Favorites.jsx"],"names":["React","useState","useSelector","Hero","axios","getProducts","useDispatch","ProductDisplay","Favorites","dispatch","productList","state","displayChoosenProduct","setDisplayChoosenProduct","choosenProduct","setChoosenProduct","favoritesList","map","product","favorite","push","handleFavorite","put","id","_id","getAllProducts","error","console","log","get","then","res","data","catch","err","handleChoosenProduct","length","index","backgroundImage","images","backgroundSize","backgroundRepeat","backgroundPosition","e","stopPropagation","brand","name","price"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { useSelector } from 'react-redux';\nimport '../../style/productList.scss';\nimport '../../style/favorites.scss';\nimport Hero from './Hero.jsx';\nimport axios from 'axios';\nimport { getProducts } from '../actions';\nimport { useDispatch } from 'react-redux';\nimport ProductDisplay from './ProductDisplay';\n\nconst Favorites = () => {\n\n\tconst dispatch = useDispatch();\n\n\tlet productList = useSelector(state => state.productList);\n\n\tconst [displayChoosenProduct, setDisplayChoosenProduct] = useState(false);\n\tconst [choosenProduct, setChoosenProduct] = useState(null);\n\tlet favoritesList = [];\n\t\n\tproductList.map((product) => {\n\t\tif(product.favorite === true) {\n\t\t\tfavoritesList.push(product)\t\t\n\t\t}\n\t})\n\n\tasync function handleFavorite(product) {\n\n\t\ttry {\n\t\t\tawait axios.put('/api/editproduct', {\n\t\t\t\tid: product._id,\n\t\t\t\tfavorite: !product.favorite\n\t\t\t})\n\t\t\tgetAllProducts();\n\t\t\t\t\n\t\t}\n\t\tcatch (error) {\n\t\t\tconsole.log('Something went wrong ', error)\n\t\t}\n\t}\n\n\tasync function getAllProducts() {\n\t\tawait axios.get('/api/allproducts')\n\t\t\t.then(res => {\n\t\t\t\tdispatch(getProducts(res.data));\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log('Something went wrong', err)\n\t\t\t})\n\t}\n\n\tconst handleChoosenProduct = (product) => {\n\t\tsetChoosenProduct(product);\n\t\tsetDisplayChoosenProduct(true);\n\t}\n\n\treturn (\n\t\t<div>\t\n\t\t\t{!displayChoosenProduct ?\n\t\t\t\t<>\n\t\t\t\t<Hero cssClassHero='favorites__hero-block' cssClassImage='favorites__hero-block-image' cssClassButton='' link='' label='' h1='Favorites' h2='Let them be yours'/>\n\t\t\t\t<main className=\"row\"> \n\t\t\t\t{!favoritesList.length > 0 ?  <div className=\"columns large-12\"><h3 className=\"favorites__page-title\">No favorites yet... </h3></div> : \n\t\t\t\t<div className=\"columns small-12 large-12\">\n\t\t\t\t\t<ul className=\"row favorites__container\">\n\t\t\t\t\t\t{favoritesList.map((product, index) => \n\t\t\t\t\t\t\t<li className=\"product-list__item-container columns small-12 medium-4 large-3\" key={index} onClick={() => handleChoosenProduct(product)}>\n\t\t\t\t\t\t\t\t<div className=\"product-list__image\" style={{\n\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${product.images[0]})`,\n\t\t\t\t\t\t\t\t\tbackgroundSize: 'cover',\n\t\t\t\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\t\t\t\t\t\t\tbackgroundPosition: 'center'\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<button className=\"favorites__remove-btn\" onClick={(e)=> {e.stopPropagation(); handleFavorite(product)}}></button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p><span>{product.brand}</span></p>\n\t\t\t\t\t\t\t\t<p>{product.name}</p>\n\t\t\t\t\t\t\t\t<p>{product.price} kr</p>\n\t\t\t\t\t\t\t</li> \n\t\t\t\t\t\t)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>}\n\t\t\t</main>\n\t\t\t</> : \n\t\t\t<ProductDisplay choosenProduct={choosenProduct} displayChoosenProduct={displayChoosenProduct} setDisplayChoosenProduct={setDisplayChoosenProduct}/>}\n\t\t</div>\n\t)\n}\nexport default Favorites;\n"]},"metadata":{},"sourceType":"module"}
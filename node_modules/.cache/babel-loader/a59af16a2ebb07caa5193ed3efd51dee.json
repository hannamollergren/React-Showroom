{"ast":null,"code":"var _jsxFileName = \"/Users/hannis/Documents/Frontend/JS/showroom/src/script/components/ProductList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport '../../style/productList.scss';\nimport '../../style/news.scss';\nimport Hero from './Hero.jsx';\nimport { useSelector } from 'react-redux';\nimport DropDownCategory from './Dropdown-Category';\nimport DropDownSort from './Dropdown-Sort';\nimport axios from 'axios';\nimport { getProducts } from '../actions';\nimport { useDispatch } from 'react-redux';\nimport ProductDisplay from './ProductDisplay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet sortOptions = ['Lowest price', 'Highest price'];\nlet categoryOptions = ['Clothing', 'Shoes', 'Accessories', 'Beauty'];\n\nconst ProductList = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  let productList = useSelector(state => state.productList);\n  const [category, setCategory] = useState('All products');\n  const [sort, setSort] = useState('');\n  const [choosenProduct, setChoosenProduct] = useState(null);\n  const [displayChoosenProduct, setDisplayChoosenProduct] = useState(false);\n  let filterList = []; // Props to Hero comp\n\n  let h1 = 'Browse around';\n  let h2 = 'Make yourself at home';\n  let cssClassHero = 'product-list__hero-block';\n  let cssClassImage = 'product-list__hero-block-image'; // News comp\n\n  if (props.displayNews === true) {\n    h1 = 'News';\n    h2 = 'Get the latest trends';\n    cssClassHero = 'news__hero-block';\n    cssClassImage = 'news__hero-block-image';\n    filterList = props.newsList;\n  } else {\n    filterList = [...productList];\n  } // Filter Category\n\n\n  if (category === 'Clothing') {\n    filterList = productList.filter(product => product.category === 'clothing');\n  }\n\n  if (category === 'Shoes') {\n    filterList = productList.filter(product => product.category === 'shoes');\n  }\n\n  if (category === 'Accessories') {\n    filterList = productList.filter(product => product.category === 'accessories');\n  }\n\n  if (category === 'Beauty') {\n    filterList = productList.filter(product => product.category === 'beauty');\n  } // Sorting\n\n\n  if (sort) {\n    if (sort === 'None') {\n      console.log('none');\n    }\n\n    if (sort === 'Lowest price') {\n      filterList = filterList.sort((a, b) => a.price - b.price);\n    }\n\n    if (sort === 'Highest price') {\n      filterList = filterList.sort((a, b) => b.price - a.price);\n    }\n  }\n\n  let count = filterList.length;\n\n  async function handleFavorite(product) {\n    try {\n      await axios.put('/api/editproduct', {\n        id: product._id,\n        favorite: !product.favorite\n      });\n      getAllProducts();\n    } catch (error) {\n      console.log('Something went wrong ', error);\n    }\n  }\n\n  async function getAllProducts() {\n    await axios.get('/api/allproducts').then(res => {\n      dispatch(getProducts(res.data));\n    }).catch(err => {\n      console.log('Something went wrong', err);\n    });\n  }\n\n  const handleChoosenProduct = product => {\n    setChoosenProduct(product);\n    setDisplayChoosenProduct(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !displayChoosenProduct ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Hero, {\n        cssClassHero: cssClassHero,\n        cssClassImage: cssClassImage,\n        cssClassButton: \"\",\n        link: \"\",\n        label: \"\",\n        h1: h1,\n        h2: h2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"row\",\n        children: [props.displayNews ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-list__left-column columns small-2 large-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"product-list__category-title\",\n            children: category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"product-list__category-item\",\n              onClick: () => setCategory('All products'),\n              children: \"All products\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"product-list__category-item\",\n              onClick: () => setCategory('Clothing'),\n              children: \"Clothing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"product-list__category-item\",\n              onClick: () => setCategory('Shoes'),\n              children: \"Shoes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"product-list__category-item\",\n              onClick: () => setCategory('Accessories'),\n              children: \"Accessories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"product-list__category-item\",\n              onClick: () => setCategory('Beauty'),\n              children: \"Beauty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 7\n        }, this), props.displayNews ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-list__left-column-mobile columns small-12\",\n          children: !productList.length > 0 ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"product-list__category-title-mobile\",\n              children: category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(DropDownCategory, {\n              category: category,\n              setCategory: setCategory,\n              inputLabel: \"Categories\",\n              menuItems: categoryOptions,\n              cssClass: \"product-list__dropdown-categories-container\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `product-list__right-column columns small-12 ${!props.displayNews ? 'large-10' : 'large-12'}`,\n          children: !filterList.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"product-list__loading\",\n              children: \"Loading... \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lds-ripple\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 121\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 132\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 93\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 34\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${!props.displayNews ? 'product-list__content-container' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row product-list__dropdown-sort\",\n              children: /*#__PURE__*/_jsxDEV(DropDownSort, {\n                sort: sort,\n                setSort: setSort,\n                inputLabel: \"Sort\",\n                menuItems: sortOptions,\n                productList: productList,\n                cssClass: \"product-list__dropdown-container\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"product-list__count\",\n              children: [count, \" products\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"row product-list__container\",\n              children: filterList.map((product, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"product-list__item-container columns small-12 medium-4 large-3\",\n                onClick: () => handleChoosenProduct(product),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-list__image\",\n                  style: {\n                    backgroundImage: `url(${product.images[0]})`,\n                    backgroundSize: 'cover',\n                    backgroundRepeat: 'no-repeat',\n                    backgroundPosition: 'center'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: product.favorite ? 'product-list__choosen-favorite' : 'product-list__not-favorite',\n                    onClick: e => {\n                      e.stopPropagation();\n                      handleFavorite(product);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: product.brand\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [product.price, \" kr\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 12\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 11\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 4\n    }, this) : /*#__PURE__*/_jsxDEV(ProductDisplay, {\n      choosenProduct: choosenProduct,\n      displayChoosenProduct: displayChoosenProduct,\n      setDisplayChoosenProduct: setDisplayChoosenProduct\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ProductList, \"m3DWqnZX5wZiD8hu3COML6MtMaE=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = ProductList;\nexport default ProductList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"sources":["/Users/hannis/Documents/Frontend/JS/showroom/src/script/components/ProductList.jsx"],"names":["React","useState","Hero","useSelector","DropDownCategory","DropDownSort","axios","getProducts","useDispatch","ProductDisplay","sortOptions","categoryOptions","ProductList","props","dispatch","productList","state","category","setCategory","sort","setSort","choosenProduct","setChoosenProduct","displayChoosenProduct","setDisplayChoosenProduct","filterList","h1","h2","cssClassHero","cssClassImage","displayNews","newsList","filter","product","console","log","a","b","price","count","length","handleFavorite","put","id","_id","favorite","getAllProducts","error","get","then","res","data","catch","err","handleChoosenProduct","map","index","backgroundImage","images","backgroundSize","backgroundRepeat","backgroundPosition","e","stopPropagation","brand","name"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAO,8BAAP;AACA,OAAO,uBAAP;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,gBAAP,MAA6B,qBAA7B;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,YAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AAEA,IAAIC,WAAW,GAAG,CAAC,cAAD,EAAiB,eAAjB,CAAlB;AACA,IAAIC,eAAe,GAAG,CAAC,UAAD,EAAa,OAAb,EAAsB,aAAtB,EAAqC,QAArC,CAAtB;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAAA;;AAE9B,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AAEA,MAAIO,WAAW,GAAGZ,WAAW,CAACa,KAAK,IAAIA,KAAK,CAACD,WAAhB,CAA7B;AAEA,QAAM,CAACE,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,cAAD,CAAxC;AACA,QAAM,CAACkB,IAAD,EAAOC,OAAP,IAAkBnB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACoB,cAAD,EAAiBC,iBAAjB,IAAsCrB,QAAQ,CAAC,IAAD,CAApD;AACA,QAAM,CAACsB,qBAAD,EAAwBC,wBAAxB,IAAoDvB,QAAQ,CAAC,KAAD,CAAlE;AACA,MAAIwB,UAAU,GAAG,EAAjB,CAV8B,CAY9B;;AACA,MAAIC,EAAE,GAAG,eAAT;AACA,MAAIC,EAAE,GAAG,uBAAT;AACA,MAAIC,YAAY,GAAC,0BAAjB;AACA,MAAIC,aAAa,GAAC,gCAAlB,CAhB8B,CAkB9B;;AACA,MAAIhB,KAAK,CAACiB,WAAN,KAAsB,IAA1B,EAAgC;AAC/BJ,IAAAA,EAAE,GAAC,MAAH;AACAC,IAAAA,EAAE,GAAC,uBAAH;AACAC,IAAAA,YAAY,GAAC,kBAAb;AACAC,IAAAA,aAAa,GAAC,wBAAd;AACAJ,IAAAA,UAAU,GAAGZ,KAAK,CAACkB,QAAnB;AACA,GAND,MAOK;AACJN,IAAAA,UAAU,GAAG,CAAC,GAAGV,WAAJ,CAAb;AACA,GA5B6B,CA8B9B;;;AACA,MAAGE,QAAQ,KAAK,UAAhB,EAA4B;AAC3BQ,IAAAA,UAAU,GAAGV,WAAW,CAACiB,MAAZ,CAAmBC,OAAO,IAAIA,OAAO,CAAChB,QAAR,KAAqB,UAAnD,CAAb;AACA;;AACD,MAAGA,QAAQ,KAAK,OAAhB,EAAyB;AACxBQ,IAAAA,UAAU,GAAGV,WAAW,CAACiB,MAAZ,CAAmBC,OAAO,IAAIA,OAAO,CAAChB,QAAR,KAAqB,OAAnD,CAAb;AACA;;AACD,MAAGA,QAAQ,KAAK,aAAhB,EAA+B;AAC9BQ,IAAAA,UAAU,GAAGV,WAAW,CAACiB,MAAZ,CAAmBC,OAAO,IAAIA,OAAO,CAAChB,QAAR,KAAqB,aAAnD,CAAb;AACA;;AACD,MAAGA,QAAQ,KAAK,QAAhB,EAA0B;AACzBQ,IAAAA,UAAU,GAAGV,WAAW,CAACiB,MAAZ,CAAmBC,OAAO,IAAIA,OAAO,CAAChB,QAAR,KAAqB,QAAnD,CAAb;AACA,GA1C6B,CA4C9B;;;AACA,MAAGE,IAAH,EAAS;AACR,QAAIA,IAAI,KAAK,MAAb,EAAqB;AACpBe,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA;;AACD,QAAIhB,IAAI,KAAK,cAAb,EAA6B;AAC5BM,MAAAA,UAAU,GAAGA,UAAU,CAACN,IAAX,CAAgB,CAACiB,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAtC,CAAb;AACA;;AACD,QAAInB,IAAI,KAAK,eAAb,EAA8B;AAC7BM,MAAAA,UAAU,GAAGA,UAAU,CAACN,IAAX,CAAgB,CAACiB,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACC,KAAF,GAAUF,CAAC,CAACE,KAAtC,CAAb;AACA;AACD;;AAED,MAAIC,KAAK,GAAGd,UAAU,CAACe,MAAvB;;AAGA,iBAAeC,cAAf,CAA8BR,OAA9B,EAAuC;AAEtC,QAAI;AACH,YAAM3B,KAAK,CAACoC,GAAN,CAAU,kBAAV,EAA8B;AACnCC,QAAAA,EAAE,EAAEV,OAAO,CAACW,GADuB;AAEnCC,QAAAA,QAAQ,EAAE,CAACZ,OAAO,CAACY;AAFgB,OAA9B,CAAN;AAIDC,MAAAA,cAAc;AAEb,KAPD,CAQA,OAAOC,KAAP,EAAc;AACbb,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCY,KAArC;AACA;AACD;;AAED,iBAAeD,cAAf,GAAgC;AAC/B,UAAMxC,KAAK,CAAC0C,GAAN,CAAU,kBAAV,EACJC,IADI,CACCC,GAAG,IAAI;AACZpC,MAAAA,QAAQ,CAACP,WAAW,CAAC2C,GAAG,CAACC,IAAL,CAAZ,CAAR;AACA,KAHI,EAIJC,KAJI,CAIEC,GAAG,IAAI;AACbnB,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCkB,GAApC;AACA,KANI,CAAN;AAOA;;AAED,QAAMC,oBAAoB,GAAIrB,OAAD,IAAa;AACzCX,IAAAA,iBAAiB,CAACW,OAAD,CAAjB;AACAT,IAAAA,wBAAwB,CAAC,IAAD,CAAxB;AACA,GAHD;;AAKA,sBACC;AAAA,cACE,CAACD,qBAAD,gBACD;AAAA,8BACC,QAAC,IAAD;AAAM,QAAA,YAAY,EAAEK,YAApB;AAAkC,QAAA,aAAa,EAAEC,aAAjD;AAAgE,QAAA,cAAc,EAAC,EAA/E;AAAkF,QAAA,IAAI,EAAC,EAAvF;AAA0F,QAAA,KAAK,EAAC,EAAhG;AAAmG,QAAA,EAAE,EAAEH,EAAvG;AAA2G,QAAA,EAAE,EAAEC;AAA/G;AAAA;AAAA;AAAA;AAAA,cADD,eAEC;AAAM,QAAA,SAAS,EAAC,KAAhB;AAAA,mBACEd,KAAK,CAACiB,WAAN,GAAoB,IAApB,gBACA;AAAK,UAAA,SAAS,EAAC,mDAAf;AAAA,kCACA;AAAI,YAAA,SAAS,EAAC,8BAAd;AAAA,sBAA8Cb;AAA9C;AAAA;AAAA;AAAA;AAAA,kBADA,eAEC;AAAA,oCACC;AAAI,cAAA,SAAS,EAAC,6BAAd;AAA4C,cAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,cAAD,CAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC;AAAI,cAAA,SAAS,EAAC,6BAAd;AAA4C,cAAA,OAAO,EAAE,MAAMA,WAAW,CAAC,UAAD,CAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFD,eAGC;AAAI,cAAA,SAAS,EAAC,6BAAd;AAA4C,cAAA,OAAO,EAAE,MAAMA,WAAW,CAAC,OAAD,CAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHD,eAIC;AAAI,cAAA,SAAS,EAAC,6BAAd;AAA4C,cAAA,OAAO,EAAE,MAAMA,WAAW,CAAC,aAAD,CAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,eAKC;AAAI,cAAA,SAAS,EAAC,6BAAd;AAA4C,cAAA,OAAO,EAAE,MAAMA,WAAW,CAAC,QAAD,CAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,EAaGL,KAAK,CAACiB,WAAN,GAAoB,IAApB,gBACA;AAAK,UAAA,SAAS,EAAC,mDAAf;AAAA,oBACE,CAACf,WAAW,CAACyB,MAAb,GAAsB,CAAtB,GAA2B,IAA3B,gBACD;AAAA,oCACC;AAAI,cAAA,SAAS,EAAC,qCAAd;AAAA,wBAAqDvB;AAArD;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC,QAAC,gBAAD;AAAkB,cAAA,QAAQ,EAAEA,QAA5B;AAAsC,cAAA,WAAW,EAAEC,WAAnD;AAAgE,cAAA,UAAU,EAAC,YAA3E;AAAwF,cAAA,SAAS,EAAEP,eAAnG;AAAoH,cAAA,QAAQ,EAAC;AAA7H;AAAA;AAAA;AAAA;AAAA,oBAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAFD;AAAA;AAAA;AAAA;AAAA,gBAdH,eAsBE;AAAK,UAAA,SAAS,EAAG,+CAA8C,CAACE,KAAK,CAACiB,WAAP,GAAqB,UAArB,GAAkC,UAAW,EAA5G;AAAA,oBACE,CAACL,UAAU,CAACe,MAAZ,GAAqB,CAArB,gBAAyB;AAAA,oCAAK;AAAI,cAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAL,eAA2D;AAAK,cAAA,SAAS,EAAC,YAAf;AAAA,sCAA4B;AAAA;AAAA;AAAA;AAAA,sBAA5B,eAAuC;AAAA;AAAA;AAAA;AAAA,sBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAzB,gBACD;AAAK,YAAA,SAAS,EAAG,GAAE,CAAC3B,KAAK,CAACiB,WAAP,GAAqB,iCAArB,GAAyD,EAAG,EAA/E;AAAA,oCACC;AAAK,cAAA,SAAS,EAAC,iCAAf;AAAA,qCACC,QAAC,YAAD;AAAc,gBAAA,IAAI,EAAEX,IAApB;AAA0B,gBAAA,OAAO,EAAEC,OAAnC;AAA4C,gBAAA,UAAU,EAAC,MAAvD;AAA8D,gBAAA,SAAS,EAAEV,WAAzE;AAAsF,gBAAA,WAAW,EAAEK,WAAnG;AAAgH,gBAAA,QAAQ,EAAC;AAAzH;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBADD,eAIC;AAAG,cAAA,SAAS,EAAC,qBAAb;AAAA,yBAAoCwB,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,eAKC;AAAI,cAAA,SAAS,EAAC,6BAAd;AAAA,wBACEd,UAAU,CAAC8B,GAAX,CAAe,CAACtB,OAAD,EAAUuB,KAAV,kBACf;AAAI,gBAAA,SAAS,EAAC,gEAAd;AAA2F,gBAAA,OAAO,EAAE,MAAMF,oBAAoB,CAACrB,OAAD,CAA9H;AAAA,wCACC;AAAK,kBAAA,SAAS,EAAC,qBAAf;AAAqC,kBAAA,KAAK,EAAE;AAC3CwB,oBAAAA,eAAe,EAAG,OAAMxB,OAAO,CAACyB,MAAR,CAAe,CAAf,CAAkB,GADC;AAE3CC,oBAAAA,cAAc,EAAE,OAF2B;AAG3CC,oBAAAA,gBAAgB,EAAE,WAHyB;AAI3CC,oBAAAA,kBAAkB,EAAE;AAJuB,mBAA5C;AAAA,yCAMC;AAAQ,oBAAA,SAAS,EAAE5B,OAAO,CAACY,QAAR,GAAmB,gCAAnB,GAAsD,4BAAzE;AAAuG,oBAAA,OAAO,EAAGiB,CAAD,IAAM;AAACA,sBAAAA,CAAC,CAACC,eAAF;AAAqBtB,sBAAAA,cAAc,CAACR,OAAD,CAAd;AAAwB;AAApK;AAAA;AAAA;AAAA;AAAA;AAND;AAAA;AAAA;AAAA;AAAA,wBADD,eASC;AAAA,yCAAG;AAAA,8BAAOA,OAAO,CAAC+B;AAAf;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,wBATD,eAUC;AAAA,4BAAI/B,OAAO,CAACgC;AAAZ;AAAA;AAAA;AAAA;AAAA,wBAVD,eAWC;AAAA,6BAAIhC,OAAO,CAACK,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAXD;AAAA,iBAAoFkB,KAApF;AAAA;AAAA;AAAA;AAAA,sBADA;AADF;AAAA;AAAA;AAAA;AAAA,oBALD;AAAA;AAAA;AAAA;AAAA;AAAA;AAFD;AAAA;AAAA;AAAA;AAAA,gBAtBF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFD;AAAA;AAAA;AAAA;AAAA;AAAA,YADC,gBAqDD,QAAC,cAAD;AAAgB,MAAA,cAAc,EAAEnC,cAAhC;AAAgD,MAAA,qBAAqB,EAAEE,qBAAvE;AAA8F,MAAA,wBAAwB,EAAEC;AAAxH;AAAA;AAAA;AAAA;AAAA;AAtDD;AAAA;AAAA;AAAA;AAAA,UADD;AA0DA,CApJD;;GAAMZ,W;UAEYJ,W,EAECL,W;;;KAJbS,W;AAqJN,eAAeA,WAAf","sourcesContent":["import React, {useState} from 'react'; \nimport '../../style/productList.scss';\nimport '../../style/news.scss';\nimport Hero from './Hero.jsx';\nimport { useSelector } from 'react-redux';\nimport DropDownCategory from './Dropdown-Category';\nimport DropDownSort from './Dropdown-Sort';\nimport axios from 'axios';\nimport { getProducts } from '../actions';\nimport { useDispatch } from 'react-redux';\nimport ProductDisplay from './ProductDisplay';\n\nlet sortOptions = ['Lowest price', 'Highest price'];\nlet categoryOptions = ['Clothing', 'Shoes', 'Accessories', 'Beauty'];\n\nconst ProductList = (props) => {\n\n\tconst dispatch = useDispatch();\n\n\tlet productList = useSelector(state => state.productList);\n\t\n\tconst [category, setCategory] = useState('All products');\n\tconst [sort, setSort] = useState('');\n\tconst [choosenProduct, setChoosenProduct] = useState(null);\n\tconst [displayChoosenProduct, setDisplayChoosenProduct] = useState(false);\n\tlet filterList = [];\n\n\t// Props to Hero comp\n\tlet h1 = 'Browse around';\n\tlet h2 = 'Make yourself at home';\n\tlet cssClassHero='product-list__hero-block' \n\tlet cssClassImage='product-list__hero-block-image'\n\n\t// News comp\n\tif (props.displayNews === true) {\n\t\th1='News';\n\t\th2='Get the latest trends';\n\t\tcssClassHero='news__hero-block' \n\t\tcssClassImage='news__hero-block-image';\n\t\tfilterList = props.newsList;\n\t}\n\telse {\n\t\tfilterList = [...productList];\n\t}\n\n\t// Filter Category\n\tif(category === 'Clothing') {\n\t\tfilterList = productList.filter(product => product.category === 'clothing');\n\t}\n\tif(category === 'Shoes') {\n\t\tfilterList = productList.filter(product => product.category === 'shoes');\n\t}\n\tif(category === 'Accessories') {\n\t\tfilterList = productList.filter(product => product.category === 'accessories');\n\t}\n\tif(category === 'Beauty') {\n\t\tfilterList = productList.filter(product => product.category === 'beauty');\n\t}\n\n\t// Sorting\n\tif(sort) {\n\t\tif (sort === 'None') {\n\t\t\tconsole.log('none')\n\t\t}\n\t\tif (sort === 'Lowest price') {\n\t\t\tfilterList = filterList.sort((a, b) => a.price - b.price);\n\t\t}\n\t\tif (sort === 'Highest price') {\n\t\t\tfilterList = filterList.sort((a, b) => b.price - a.price);\n\t\t}\n\t}\n\t\n\tlet count = filterList.length;\n\n\n\tasync function handleFavorite(product) {\n\n\t\ttry {\n\t\t\tawait axios.put('/api/editproduct', {\n\t\t\t\tid: product._id,\n\t\t\t\tfavorite: !product.favorite\n\t\t\t})\n\t\tgetAllProducts();\n\t\t\t\t\n\t\t}\n\t\tcatch (error) {\n\t\t\tconsole.log('Something went wrong ', error)\n\t\t}\n\t}\n\n\tasync function getAllProducts() {\n\t\tawait axios.get('/api/allproducts')\n\t\t\t.then(res => {\n\t\t\t\tdispatch(getProducts(res.data));\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log('Something went wrong', err)\n\t\t\t})\n\t}\n\n\tconst handleChoosenProduct = (product) => {\n\t\tsetChoosenProduct(product);\n\t\tsetDisplayChoosenProduct(true);\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{!displayChoosenProduct ? \n\t\t\t<div>\n\t\t\t\t<Hero cssClassHero={cssClassHero} cssClassImage={cssClassImage} cssClassButton='' link='' label='' h1={h1} h2={h2}/>\n\t\t\t\t<main className=\"row\">\n\t\t\t\t\t{props.displayNews ? null :\n\t\t\t\t\t\t<div className=\"product-list__left-column columns small-2 large-2\">\t\t\n\t\t\t\t\t\t<h2 className=\"product-list__category-title\">{category}</h2>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li className=\"product-list__category-item\" onClick={() => setCategory('All products')}>All products</li>\n\t\t\t\t\t\t\t\t<li className=\"product-list__category-item\" onClick={() => setCategory('Clothing')}>Clothing</li>\n\t\t\t\t\t\t\t\t<li className=\"product-list__category-item\" onClick={() => setCategory('Shoes')}>Shoes</li>\n\t\t\t\t\t\t\t\t<li className=\"product-list__category-item\" onClick={() => setCategory('Accessories')}>Accessories</li>\n\t\t\t\t\t\t\t\t<li className=\"product-list__category-item\" onClick={() => setCategory('Beauty')}>Beauty</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t\t{props.displayNews ? null :\n\t\t\t\t\t\t\t<div className=\"product-list__left-column-mobile columns small-12\">\n\t\t\t\t\t\t\t\t{!productList.length > 0 ?  null : \n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h2 className=\"product-list__category-title-mobile\">{category}</h2>\n\t\t\t\t\t\t\t\t\t<DropDownCategory category={category} setCategory={setCategory} inputLabel='Categories' menuItems={categoryOptions} cssClass='product-list__dropdown-categories-container'/>\n\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div className={`product-list__right-column columns small-12 ${!props.displayNews ? 'large-10' : 'large-12'}`}>\n\t\t\t\t\t\t\t{!filterList.length > 0 ? <div><h3 className=\"product-list__loading\">Loading... </h3><div className=\"lds-ripple\"><div></div><div></div></div></div> :\n\t\t\t\t\t\t\t<div className={`${!props.displayNews ? 'product-list__content-container' : ''}`}>\n\t\t\t\t\t\t\t\t<div className=\"row product-list__dropdown-sort\">\n\t\t\t\t\t\t\t\t\t<DropDownSort sort={sort} setSort={setSort} inputLabel='Sort' menuItems={sortOptions} productList={productList} cssClass='product-list__dropdown-container'/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className=\"product-list__count\">{count} products</p>\n\t\t\t\t\t\t\t\t<ul className=\"row product-list__container\">\n\t\t\t\t\t\t\t\t\t{filterList.map((product, index) => \n\t\t\t\t\t\t\t\t\t\t<li className=\"product-list__item-container columns small-12 medium-4 large-3\" key={index} onClick={() => handleChoosenProduct(product)}>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"product-list__image\" style={{\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${product.images[0]})`,\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundSize: 'cover',\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundPosition: 'center'\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t<button className={product.favorite ? 'product-list__choosen-favorite' : 'product-list__not-favorite'} onClick={(e)=> {e.stopPropagation(); handleFavorite(product)}}></button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<p><span>{product.brand}</span></p>\n\t\t\t\t\t\t\t\t\t\t\t<p>{product.name}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>{product.price} kr</p>\n\t\t\t\t\t\t\t\t\t\t</li> \n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</main> \n\t\t\t\t</div> :\n\t\t\t<ProductDisplay choosenProduct={choosenProduct} displayChoosenProduct={displayChoosenProduct} setDisplayChoosenProduct={setDisplayChoosenProduct}/>}\n\t\t</div>\n\t)\n}\nexport default ProductList;"]},"metadata":{},"sourceType":"module"}